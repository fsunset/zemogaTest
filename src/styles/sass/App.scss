@import "node_modules/bootstrap/scss/functions";
@import "node_modules/bootstrap/scss/variables";
@import "node_modules/bootstrap/scss/mixins/_breakpoints";

/*
 *** Global Styling
*/

@font-face {
  font-family: 'Lato';
  src: url('../../fonts/Lato-Regular.ttf') format('truetype');
}

@font-face {
  font-family: 'Lato Light';
  src: url('../../fonts/Lato-Light.ttf') format('truetype');
}

/* Helpers & Vars */

$softBlack:            #3C3C3C;
$green:                #2DBBB4;
$yellow:               #FFB533;
$softGrey:             #E0D7E5;
$grey:                 #9B999C;
$darkGrey:             #333333;

// Map for set bg-img in voting boxes
$persons: (
	"kanye",
	"mark",
	"cristina",
	"malala"
);

// Map for set width in voting-results bar for each card
$widths: (0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100);


* {
	font-family: 'Lato Light';

	a,
	a:hover {
		text-decoration: none;
	}

	.alert {
		border-radius: 0 !important;
		border: none !important;
		padding-bottom: 0 !important;

		h2 {
			float: left;
			margin-right: 2vw;
			font-family: 'Lato';
			font-weight: bolder;
			text-align: center;

			small {
				display: block;
				font-family: 'Lato Light';
				font-size: 1.1rem;
			}
		}

		> small {
			display: inline-block !important;
			@include media-breakpoint-up(lg) {
				display: contents !important;
			}
			margin-bottom: 2vh;
		}

		> p { margin-bottom: 0; }

		&.alert-dismissible {
		    padding-right: 2rem;
		    @include media-breakpoint-up(lg) {
		    	padding-right: 4rem;
		    }
		}

		&.bottom {
			background: url('../../img/alert-bg.png');
			background-position: center;
			background-repeat: no-repeat;
			background-size: cover;
			padding-top: 3vh;
			padding-right: 1.25rem;
		    padding-bottom: 3vh !important;
		    font-size: 1.7rem;

		    @include media-breakpoint-up(lg) {
		    	p {
		    		display: inline;

		    		+ button {
		    			float: right;
		    			color: $darkGrey;
		    			border: 2px solid $darkGrey;

		    			&:hover { color: white !important; }
		    		}
		    	}
		    }

		    .close { display: none; }
		}
	}

	button {
		border-radius: 0 !important;
		cursor: pointer !important;
	}

	.icon-custom-large { font-size: 1.8em; }
	.icon-custom-medium { font-size: 1em; }
	.icon-custom-small {
		font-size: .6em;
		@include media-breakpoint-up(lg) {
			font-size: .4em;
		}
	}

	.no-padding-x {
		padding-left: 0 !important;
		padding-right: 0 !important;
	}

	.strong-text { font-family: 'Lato'; }
	.white-text { color: white !important; }

	.flipped-x-axis {
		transform: scaleX(-1);
	    -moz-transform: scaleX(-1);
	    -webkit-transform: scaleX(-1);
	    -ms-transform: scaleX(-1);
	}

	.btn-green {
		background: rgba($green, .9);
		cursor: pointer;
	}
	.btn-yellow {
		background: rgba($yellow, .9);
		cursor: pointer;
	}
}




header {
	.navbar {
		position: absolute;
		background: rgba(0, 0, 0, 0.8);
		@include media-breakpoint-up(lg) {
			background: -moz-linear-gradient(top,  rgba(74,70,70,1) 0%, rgba(255,255,255,0) 100%); /* FF3.6-15 */
			background: -webkit-linear-gradient(top,  rgba(74,70,70,1) 0%,rgba(255,255,255,0) 100%); /* Chrome10-25,Safari5.1-6 */
			background: linear-gradient(to bottom,  rgba(74,70,70,1) 0%,rgba(255,255,255,0) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
		}

		.navbar-toggler { border: none; }

		.navbar-toggler-icon {
		  background-image: url("data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='rgb(255,255,255)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 8h24M4 16h24M4 24h24'/%3E%3C/svg%3E");
		}

		.navbar-brand { font-family: 'Lato'; }
	}
}

main {
	.simple-page-container {
		padding-top: 35vh;
		text-align: center;
		height: 100vh;
	}

	.jumbotron {
		background: url('../../img/pope.jpg');
		background-position: top center;
		background-repeat: no-repeat;
		background-size: cover;
		border-radius: 0;
		position: relative;
		min-height: 750px;
		padding-top: 25vh;

		.box {
			background: rgba($softBlack, .55);
			overflow: hidden;
			@include media-breakpoint-down(sm) {
				margin-bottom: 17vh;
			}

			h2,
			p,
			a {
				padding: 0 5vh;
			}

			h2 {
				padding-top: 5vh;
				font-size: 4rem;

				small {
					font-size: 1.1rem;
					display: block;
				}

				span { font-weight: 700; }
			}

			p {
				font-size: 1.3rem;
				padding-top: 2vh;
				padding-bottom: 0;

				&.wiki-custom-icon {
					> span {
						font-family: Times New Roman;
						margin-right: .5vw;
						font-size: 1rem;
					}

					a {
						font-size: .8rem;
						text-decoration: underline;
						vertical-align: middle;
					}
				}
			}

			[class*="btn-"] {
				padding: 2vh;
				font-size: 2rem;
			}
		}

		.remaining-days-bar {
		    background: rgba($softBlack, .55);
		    bottom: 0;
		    color: white;
		    overflow: hidden;
			position: absolute;
		    width: 100%;

		    .row > div {
		    	padding: 0 1rem;
		    	&:first-child { line-height: 3; }

		    	&.left {
		    		position: relative;
		    		text-align: right;
		    		width: 40%;

		    		&:after {
		    			content: '';
		    			position: absolute;
		    			right: 0;
		    			top: 50%;
		    			width: 0;
		    			height: 0;
		    			border: 10px solid transparent;
		    			border-left-color: rgba($softBlack, .55);
		    			border-right: 0;
		    			margin-top: -10px;
		    			margin-right: -10px;
		    		}
		    	}

		    	&.right {
		    		background: rgba(white, 0.66);
		    		color: black;
		    		font-size: xx-large;
		    		width: 60%;
		    	}

		    	p {
		    		margin-bottom: 0;

		    		span { font-family: Lato; }
		    	}
		    }
		}
	}

	.boxes-container {
		padding-bottom: 2vh;

		> h2 { margin: 8vh 0; }

		.card {
			border-radius: 0;
			border: none;
		    overflow: hidden;
		    height: 300px;
		    margin-bottom: 3vh;
		    @include media-breakpoint-up(lg) {
		    	height: 420px;
		    	margin-bottom: 3vh;
		    }

		    .card-body {
		    	background: -moz-linear-gradient(bottom, #000000 0%, rgba(0, 0, 0, 0) 100%); /* FF3.6-15 */
		    	background: -webkit-linear-gradient(bottom, #000000 0%, rgba(0, 0, 0, 0) 100%); /* Chrome10-25,Safari5.1-6 */
		    	background: linear-gradient(to top, #000000 0%, rgba(0, 0, 0, 0) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */

		    	position: absolute;
		    	bottom: 0;
		    	width: 100%;
		    	height: 79%;
		    	@include media-breakpoint-up(lg) {
		    		height: 60%;
		    	}

		    	.card-title,
		    	.card-subtitle {
		    		font-family: 'Lato';

		    		.span { font-family: 'Lato Light'; }
		    	}

		    	.card-title {
		    		font-size: 1.8rem;
		    		font-weight: bolder;

		    		> span {
		    			float: left;

		    			+ span {
		    				display: flex;
		    				line-height: 1;
		    				max-width: 90%;
		    				margin-top: -.2rem;
		    			}
		    		}
		    	}
		    	
		    	.card-subtitle {
		    		font-size: .7rem;
		    		margin-left: 3vw;
		    		@include media-breakpoint-up(lg) {
		    			margin-left: 1.5vw;
		    		}
		    	}

		    	.card-text {
		    		line-height: 1.1;
		    		margin-left: 3vw;
		    		@include media-breakpoint-up(lg) {
		    			margin-left: 1.5vw;
		    		}
		    	}

		    	[class*="btn-"] {
	    			margin-left: -1.25rem;
	    			margin-right: 1.5vw;
	    			padding: 1.2vw;
	    			@include media-breakpoint-up(lg) {
	    				margin-right: .7vw;
	    				padding: .7vw;
	    			}
	    			display: inline-flex;
	    			cursor: default;
	    		}

	    		.votes-results-bar-container {
	    			position: absolute;
    			    bottom: 0;
    			    left: 0;
    			    right: 0;
    			    width: 100%;

    			    [class*="votes-"] {
    			    	margin: 0;
    			    	height: 2.3rem;

    			    	p {
    			    		width: 100%;

    			    		span { margin: 0 .2rem; }
    			    	}
    			    }

    			    @each $widthPercentage in $widths {
    			    	.width-#{$widthPercentage} {
    			    		width: percentage($widthPercentage / 100);
    			    	}
    			    }
	    		}

	    		.voting-btn {
	    			margin-top: -1.7vh;
	    			@include media-breakpoint-up(lg) {
	    				margin-top: -1vh;
	    			}

	    			&.left-aligned { margin-left: 0; }

	    			&.fade {
	    				display: none;

	    				&.show { display: inline-flex; }
	    			}
	    		}

	    		.action-btn {
	    			margin-right: 2rem;
	    			border: none;

	    			&.selected { border: 1px solid $softGrey; }

	    			&:first-child { margin-left: 0; }

	    			.icon-custom-small {
	    				font-size: 1.2rem;
	    				@include media-breakpoint-up(lg) {
	    					font-size: .8rem;
	    				}
	    			}

	    			+ button {
		    			margin-top: -2vh;
		    			@include media-breakpoint-up(lg) {
		    				margin-top: -1vh;
		    			}
		    		}
	    		}

	    		.buttons-container.fade {
	    			display: none;

	    			&.show { display: inline; }
	    		}
		    }

			// Map for set bg-img in voting boxes
			@each $name in $persons {
			  &.bg-img-#{$name} {
			    background: url('../../img/' + $name + '.png');
			    background-size: cover;
			    background-position: top center;
			    background-repeat: no-repeat;
			  }
			}
		}
	}
}

footer {
	padding-top: 5vh;
    padding-bottom: 3vh;
    border-top: 1px dotted $softGrey;

    p,
    a {
    	color: $grey;
	    margin-right: 1vw;
	    font-size: .8rem;

	    &:hover { color: $grey; }

	    display: block;
	    @include media-breakpoint-up(lg) {
	    	display: inline-block;
	    }

	    > span {
	    	display: block;
	    	@include media-breakpoint-up(lg) {
	    		display: inline;
	    	}
	    }

	    .social-icon {
	    	color: $darkGrey;
	    	font-size: 1.5rem;
	    	margin-left: 1vw;
	    }
    }
}


/* 
 *** Media Queries
*/

@include media-breakpoint-up(lg) {
	.navbar {
		padding-top: 5vh !important;

		.navbar-brand {
		    font-size: 2em;
		}

		.nav-link, 
		.icon-custom-large {
			cursor: pointer;
			margin-left: 3vw;
		}
	}
}
